(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{617:function(e,t,r){var content=r(633);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(102).default)("cc073e4c",content,!0,{sourceMap:!1})},632:function(e,t,r){"use strict";var n=r(617);r.n(n).a},633:function(e,t,r){(e.exports=r(101)(!1)).push([e.i,".qr-reader{background-color:#444;opacity:0;-webkit-transform:opacity .5s linear;transform:opacity .5s linear;position:fixed;top:0;left:0;bottom:0;right:0;display:flex}.qr-reader.activated{opacity:1}.qr-reader .uk-icon-button{width:46px;height:46px}.qr-reader .qr-reader__error{position:fixed;top:50%;right:0;-webkit-transform:translateY(-50%);transform:translateY(-50%);text-align:center;font-weight:700}.qr-reader .qr-reader__close{position:fixed;bottom:80px;left:50%;margin:0 -23px 0 0;left:calc(50% - 23px);background-color:#fff;border-radius:100%;color:#444;font-weight:700;padding:5px;text-shadow:0 0 5px #000}.qr-reader .qr-reader__found,.qr-reader .qr-reader__scanning{color:#fff;font-weight:700;text-align:center;text-shadow:0 0 2px #000;position:fixed;bottom:16px;left:0;right:0}.qr-reader .qrcode-stream__camera,.qr-reader .qrcode-stream__pause-frame{position:fixed;left:0;right:0;bottom:0;height:100%;width:100%;-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center}.qr-reader .qrcode-stream__inner-wrapper{position:inherit!important;max-width:100%!important;max-height:100%!important;z-index:inherit!important}",""])},646:function(e,t,r){"use strict";r.r(t);r(332),r(229),r(117),r(65);var n=r(16),o=r(46),c=r(228),d=r(629),l=r(166),f={layout:"app",head:function(){return{title:"Scan the QR of your RaboCoin!"}},props:{targetPath:{type:String,default:"/coin"}},components:{QrcodeStream:d.QrcodeStream},data:function(){return{hasDecoded:!1,isQrReaderActivated:!1,deviceLocation:null,paused:!1,error:null}},watch:{error:function(e){console.error(e)}},mounted:function(){this.geoConfig={enableHighAccuracy:!1}},methods:Object(o.a)({},Object(c.b)("coins",["setCurrentCoin"]),{onInit:function(){var e=Object(n.a)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:this.isQrReaderActivated=!0,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),"NotAllowedError"===e.t0.name?this.error="ERROR: you need to grant camera access permisson":"NotFoundError"===e.t0.name?this.error="ERROR: no camera on this device":"NotSupportedError"===e.t0.name?this.error="ERROR: secure context required (HTTPS, localhost)":"NotReadableError"===e.t0.name?this.error="ERROR: is the camera already in use?":"OverconstrainedError"===e.t0.name?this.error="ERROR: installed cameras are not suitable":"StreamApiNotSupportedError"===e.t0.name&&(this.error="ERROR: Stream API is not supported in this browser");case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),onDecoded:function(){var e=Object(n.a)(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.hasDecoded=!0,e.next=3,this.parseQRData(t);case 3:if(r=e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:this.setCurrentCoin(r),this.isQrReaderActivated=!1,this.paused=!0,this.$router.push(this.targetPath);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),parseQRData:function(){var e=Object(n.a)(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("string"==typeof t){e.next=2;break}return e.abrupt("return",!1);case 2:if(t.length){e.next=4;break}return e.abrupt("return",!1);case 4:return r=t.match(/[0-9a-fA-F]{8}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{12}/g),e.next=7,l.a.find(r);case 7:return n=e.sent,e.abrupt("return",n.id||!1);case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),activateQrReader:function(){this.isQrReaderActivated=!0},deactivateQrReader:function(){this.isQrReaderActivated=!1},infoClass:function(){switch(this.$mq){case"laptop":return["uk-width-medium"]}return["uk-width-large"]}})},h=(r(632),r(44)),component=Object(h.a)(f,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"uk-container-expand uk-background-muted uk-flex uk-flex-column uk-padding-small"},[r("div",{staticClass:"uk-margin uk-align-center uk-width-small"},[r("img",{attrs:{"data-src":"/images/gifs/scan.gif",alt:" ","uk-img":""}})]),e._v(" "),r("div",{staticClass:"uk-margin uk-align-center"},[r("h3",{staticClass:"uk-align-center"},[e._v("Dare to take action!")]),e._v(" "),r("div",{staticClass:"scan-button uk-position-relative uk-overflow-hidden uk-display-inline"},[e.isQrReaderActivated?r("qrcode-stream",{staticClass:"uk-flex uk-flex-center uk-flex-middle",class:["qr-reader",{activated:e.isQrReaderActivated}],on:{init:e.onInit,decode:e.onDecoded}},[r("button",{staticClass:"qr-reader__close uk-icon-button ",attrs:{"uk-icon":"icon: close;"},on:{click:e.deactivateQrReader}}),e._v(" "),e.error?r("span",{staticClass:"qr-reader__error uk-padding uk-background-secondary"},[e._v(e._s(e.error))]):e._e(),e._v(" "),e.hasDecoded?r("b",{staticClass:"qr-reader__found"},[r("em",{staticClass:"uk-light"},[e._v("Found code, registering...")])]):r("span",{staticClass:"qr-reader__scanning"},[r("em",{staticClass:"uk-light"},[e._v("Waiting for a DARE-TOKEN...")])])]):e._e(),e._v(" "),r("portal",{attrs:{to:"raboStartFooter"}},[r("button",{directives:[{name:"show",rawName:"v-show",value:!e.isQrReaderActivated,expression:"!isQrReaderActivated"}],staticClass:"uk-button uk-button-primary",on:{click:e.activateQrReader}},[e.deviceLocation?r("span",[e._v("Current location of Coin determined")]):r("span",[e._v("Scan your coin")])])])],1)])])},[],!1,null,null,null);t.default=component.exports}}]);